# Nimekäs

## a) Kotisivu

> Klo 21:15

Aloitin laittamalla virtuaalikoneeni päälle ja antamalla tutun komennon terminaalissa, eli `sudo apt-get update`. Seuraavaksi otin etäyhteyden virtuaalipalvelimeeni komennolla `ssh erikak@165.232.86.216 ja ajoin siellä saman `sudo apt-get update`-komennon.

Palasin takaisin virtuaalikoneeni terminaaliin komennolla `exit`. Kertasin hetken omia muistiinpanojani ja tehtävänantoa, ja päätin aloittaa sivujen luomisesta. Ohjeeksi otin Tero Karvisen tutun ohjeen nimiporjaisten virtuaalipalvelimien käyttöönotosta (lähde: Tero Karvinen, https://terokarvinen.com/2018/04/10/name-based-virtual-hosts-on-apache-multiple-websites-to-single-ip-address/).

Loin alkuun kansion, johon sivut voin tehdä. Nimesin kansion hieman eri tavalla jotta itse erottaisin paremmin missä kansiossa uudet sivut sijaitsevat. 

![image](https://github.com/user-attachments/assets/97267862-f202-4179-b47f-fb05b480e713)

Seuraavaksi siirryin kansioon, ja aloitin luomaan etusivua micron kanssa.

![image](https://github.com/user-attachments/assets/e923ca30-4dfe-4d14-bb0b-67d5691a2603)

Pohjana käytin Tero Karvisen lyhyttä HTML5 -sivupohjaa (lähde: Tero Karvinen, https://terokarvinen.com/2012/short-html5-page/).

![image](https://github.com/user-attachments/assets/29b09b17-8c71-474f-b1b3-0fd0f4eed6bb)

Tallensin tiedoston painamalla Ctrl+S ja poistuin tekstieditorista painamalla Ctrl+Q. Seuraavaksi loin seuraavan tiedoston komennolla `micro aboutme.html`, ja tein sinne lyhyen html-sivun samaisen Teron pohjan mukaan.

Viimeisenä tiedostona loin contact.html -sivun samalla komennolla ja pohjalla kuin edellisetkin. 

![image](https://github.com/user-attachments/assets/914d3655-f20b-4870-b853-92d564ddbfef)

Vielä pitäisi saada sivut linkittymään keskenään, ja tässä vaiheessa piti turvautua jo Googlen apuun, ei ollut muistissa pysynyt tarkalleen linkkaukset toiseen tiedostoon. Apuja löytyikin W3Schoolsin ohjeista, joten loin yhteydet tiedostojen välille (lähde: W3Schools, https://www.w3schools.com/html/html_links.asp).

![image](https://github.com/user-attachments/assets/30751f2f-6dc2-47ae-bef8-9efc4986b8e9)

Kahdelle muulle sivulle laitoin linkin takaisin etusivulle.

![image](https://github.com/user-attachments/assets/b4682c06-7f9d-4340-882d-a9409dec3b9c)

> Klo 21:54, pienen tauon paikka.

> Klo 22:22, takaisin tehtävän kimppuun.

Seuraavaksi halusin siirtää tiedostot virtuaalipalvelimelle, ja jatkaa siellä hommia. Etsin netistä tietoa, miten Teron vinkeissä mainittu scp -toiminto toimii, ja löysin hyvin Mediumin artikkelin aiheesta. SCP muodostuu sanoista **Secure Copy Protocol**. Toiminnolla voi siis ssh-yhteyden kautta helposti ja turvallisesti kopioida tiedostoja host-koneen ja virtuaalikoneen (tai tässä tilanteessa virtuaalikoneen ja -palvelimen) välillä (lähde: Ashish Singh, https://ashishnoob.medium.com/efficient-file-transfer-in-linux-scp-and-rsync-3e2b877c6bfd).

Selvitin vielä, mitä Teron vinkissä mainittu **-r** komennossa tekee, joten avasin manuaalin terminaalissa komennolla `man scp`. Sieltä löysin tiedon, että -r lisäys komennossa kopioi koko kansion, kun Mediumin ohjeessa mainitaan vain tiedostojen kopioinnista.

Mediumin ohjeessa annettiin hyvät esimerkkikomennot riippuen siitä kummin päin tiedostoja halutaan siirtää (paikallisesta virtuaaliselle koneelle vai toisinpäin), ja päätin testata suorilta komentoa. Mietin ensin, tulisiko vastaava kansiorakenne ensin luoda myös virtuaalipalvelimelle, mutta ajattelin ensin kokeilla kopiointia (kerta -r lisäys kopioi koko kansion eikä pelkkää tiedostoa), mutta ei onnistunutkaan suorilta.

![image](https://github.com/user-attachments/assets/cb981f68-940b-4876-887a-2306e8cff789)

Virheilmoituksesta huomaan, että unohdin kauttaviivan erikakoskinen.com -jälkeen, joka on kansion nimi, eikä tiedoston nimi, ja siksi kyseistä tiedostoa ei varmasti löydy. Virheilmoituksen toinen rivi mielestäni viittaa siihen, ettei kansiota löydy, tai sitten ongelmana tässäkin on puuttuva kenoviiva. Kokeilin vielä oikeilla kenoviivoilla komentoa uudelleen, mutta samalla tuloksella.

![image](https://github.com/user-attachments/assets/554dbcec-83de-4117-97cb-007caae96d28)

Nopealla googlettelulla polkuni on selkeästi väärä, eli ilmeisesti kansion ilmoittamiseen riittäisi pelkästään tuo erikakoskinen.com/ (lähde: Stack Overflow, https://stackoverflow.com/questions/26346277/scp-files-from-local-to-remote-machine-error-no-such-file-or-directory). Päätin siis lyhentää virtuaalikoneen polkua samalla, ja kokeilla komentoa vielä uudestaan. Vieläkään ei kansiota löytynyt, mutta nyt sentään virheilmoitus muuttui.

![image](https://github.com/user-attachments/assets/5195b124-6d28-4369-bdfc-229b1eaacd1a)

Luin lisää Stack Overflown keskusteluketjua ja kokeilin komentoa vielä hiukan eri tavalla, mutta edelleenkään siirto ei onnistu. 

![image](https://github.com/user-attachments/assets/e1f80e03-1108-48bd-b3e6-e6cf849c6f2f)

Päätin tässä vaiheessa käydä luomassa virtuaaliserverille kansiorakenteen valmiiksi, johon kopiointi tapahtuisi. Kirjauduin siis virtuaalipalvelimeen, ja loin kansion kotikansioon.

![image](https://github.com/user-attachments/assets/350a8f44-3c9b-48ec-9d5f-ca15fdaba3fc)

Siirryin exit-komennolla takaisin virtuaalikoneelle ja kokeilin komentoa vielä kerran uudestaan, tuloksetta.

![image](https://github.com/user-attachments/assets/02f21577-3b24-4228-ba29-970b59ec0270)

En siis jostain syystä nyt saa oikeaa kansiorakennetta ilmaistua komentoon. Kokeilin mennä vielä public_sites -kansioon, ja tehdä kopiontia sieltä käsin, mutta ei edelleenkään onnistunut.

![image](https://github.com/user-attachments/assets/b5f87efd-e73f-4999-95eb-bc29490b34c3)

Oli aika kysyä apua chatGPT:ltä. Selitin ongelmani, ja kerroin virheilmoitukset promptina. Sain vastaukseksi muutaman yleisen ongelman, jota testata, ja lähdin niillä etenemään. Ensimmäisenä testasin, että onhan varmasti polku oikea, vaikka tämän olin testannut jo aiemminkin. Polku toimii, ja näyttää kansion sisällön, eli tässä ei virhettä ole.

![image](https://github.com/user-attachments/assets/79a2583c-4a4b-4803-b690-2301bf32d323)

Seuraavana pyydettiin varmistamaan, että SSH-yhteys virtuaalipalvelimelle toimii. Tämä on tullut testattua jo alussa, kun päivitin sovellukset ja äsken, kun loin sinne kansion. Testasin silti vielä uudelleen palvelimelle kirjautumista, eikä ongelmia ilmennyt. Tulin exitillä pois palvelimelta, ja varuilta vielä suljin koko terminaalin.

Kokeilin komentoa uudestaan ja jostain syystä nyt ei ongelmaa ilmennyt? En ole ihan varma mitä tein eri tavalla, ja mistä onnistuminen johtui. Epäilen sitä, että tein tässä välissä kansiorakenteen virtuaalipalvelimen puolelle, jolloin siitä ei tullut virhettä, mutta varma en voi tietenkään olla.

![image](https://github.com/user-attachments/assets/30721719-e5ba-4953-8927-ea5d0b5b9545)

Kävin vielä palvelimen puolella testaamassa, onhan tiedostot siirtyneet oikein, ja siellähän ne. Kävin vielä avaamassa yhden html-tiedoston, ja ennallaan näytti olevan. Kopiointi oli siis viimein onnistunut!

![image](https://github.com/user-attachments/assets/c53e6b42-e75c-4225-aefa-8454b11af474)

> Klo 23:30

Seuraavaksi lähdin selvittämään, miten saisin luodut sivut näkymään vuokraamallani www.erikakoskinen.com -sivustolla. Kävin tarkistamassa, missä polussa nykyiset sivut ovat.

![image](https://github.com/user-attachments/assets/cda18240-2cb1-4ceb-a29d-ec4074c51310)

Jouduin palaamaan toissa kerran ohjeisiin ja hieman pyörittelemään sitä, miten saan luodut sivut yhdistettyä jo nykyisen, käytössä olevan domainiin. Ajattelin kokeilla alkuun luoda "uutta" virtual name hostingia, Teron ohjeen mukaan (lähde: Tero Karvinen, https://terokarvinen.com/2018/04/10/name-based-virtual-hosts-on-apache-multiple-websites-to-single-ip-address/). Aloitin komennolla `sudoedit /etc/apache2/sites-available/erikakoskinen.com.conf` ja syötin tiedot micron kautta.

![image](https://github.com/user-attachments/assets/3bcc49b4-e983-4dbb-9d32-64bddf6b3d71)

Ctrl+S ja Ctrl+Q, jotta pääsin pois microsta. Seuraavaksi uuden tiedoston "käyttöönotto" ja demonin potkaisu.

![image](https://github.com/user-attachments/assets/2a48c25d-e536-4ca4-b8b6-70bb1c4b2983)

Tässä vaiheessa pohdin pitkään sitä, mitä nyt tehdään kun nimi on vuokrattu NameCheapilta. Päätin kokeilla hieman testejä, joita Teron ohjeessa oli, mutta en selkeästi saanut ihan kiinni vielä miten saan IP-osoitteen ja luodun domainin juttelemaan oman serverini kanssa.

![image](https://github.com/user-attachments/assets/67a3748d-6c9b-46d9-baf9-23248e2422c3)










































