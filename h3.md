# Hello Web Server

## 7.9.2024

## x) Lue ja tiivistä

**Name-based Virtual Host Support (lähde: The Apache Software Foundation, https://httpd.apache.org/docs/2.4/vhosts/name-based.html)**

- Nimipohjainen virtual hosting on yksinkertaisempi tapa kuin IP-pohjainen, sillä nimipohjaisessa hostingissa useat eri verkkosivut voivat käyttää samaa IP-osoitetta, koska client ilmoittaa hostin nimen osana HTTP-otsikkoa.
  IP-pohjaisessa jokaisella verkkosivulla tulee olla oma IP-osoite.

- Nimipohjaisessa virtual hostingissa tehdään ensin IP-pohjainen selvitys, jonka mukaan palvelin osaa valita oikean hostin IP-osoitteen perusteella. Mikäli samaan IP-osoitteeseen on liitetty useita eri verkkosivuja,
  vertaa palvelin pyynnössä ilmoitettua ServerNamea ja ServerAliasta. Näiden perusteella palvelin osaa valita oikean sivun näytettäväksi, vaikka IP-osoite olisikin sama.

- Jokaiselle sivulle luodaan oma VirtualHost -lohko, johon määritellään ServerName, eli se nimi jota sivusta halutaan käyttää, sekä DocumentRoot, eli se hakemisto jossa sivusto tiedostoina sijaitsee.


**Name Based Virtual Hosts on Apache - Multiple Websites to Single IP Address (lähde: Tero Karvinen, https://terokarvinen.com/2018/04/10/name-based-virtual-hosts-on-apache-multiple-websites-to-single-ip-address/)**

- Apachessa nimipohjaisen virtual hostingin käyttö aloitetaan konfiguroimalla nettiserveri korvaamalla oletusnettisivu.

- Adminina lisätään nimipohjainen virtual host lisäämällä conf -tiedostoon VirtualHost -lohko tietoineen, ja käynnnistämällä Apache uudelleen.

- Verkkosivu voidaan luoda kuitenkin ihan tavallisena käyttäjänä.

## a) Apachen testaus

> Klo 20:45

Aloitin käynnistämällä virtuaalikoneeni ja ajamalla terminaalissa jo tutuksi tulleen `sudo apt-get update`. Siinä ei ongelmia ilmennyt.

Ehdin viime luennolla jo asentamaan Apachen, joten seuraavaksi tarkistin vieläkö weppipalvelin vastaa localhostista, ja hyvin vastasi, esiin tuli Apache2 Debianin oletussivu. (Kuvankaappauksessa vain alkuosa terminaalin tuloksesta)

![image](https://github.com/user-attachments/assets/a9c9870c-e72d-407c-bad9-09e7df31f307)

Testasin saman vielä nettiselaimesta, ja ei ongelmaa. (Kuvankaappauksessa vain alkuosa nettisivusta)

![image](https://github.com/user-attachments/assets/ba158b7b-8117-4aba-89e9-40371ebb8dde)

## b) Lokit sivun lataamisesta

> Klo 20:54

Seuraavaksi etsin hakemistosta kansion, johon Apache tekee lokeja. Luennoilla tehdyistä muistiinpanoista katsottuna yritin mennä suoraan kansioon, mutta sehän ei onnistunutkaan, joten liikuin kansio kerrallaan. Normaalina käyttäjänä apache2 -kansioon ei ollutkaan mitään asiaa.

![image](https://github.com/user-attachments/assets/9fb66fa3-171b-49a7-a2fc-a272cb240b1c)











